(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{230:function(e,t,n){},245:function(e,t){},247:function(e,t){},249:function(e,t){},253:function(e,t){},280:function(e,t){},282:function(e,t){},291:function(e,t){},293:function(e,t){},303:function(e,t){},305:function(e,t){},423:function(e,t){},425:function(e,t){},432:function(e,t){},433:function(e,t){},451:function(e,t){},526:function(e,t,n){},533:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(219),i=n.n(s),c=(n(230),n(16)),u=n.n(c),o=n(27),p=n(19),l=n(87),d=n.n(l),y=n(70),f=(n(525),n(537)),m=n(540),b=n(541),h=n(223),g=n(538),j=n(539),T=(n(526),n(2));function w(){var e=Object(a.useRef)(""),t=Object(a.useRef)(""),n=Object(a.useRef)(""),r=Object(a.useRef)(!1),s=Object(a.useState)(""),i=Object(p.a)(s,2),c=i[0],l=i[1],w=Object(a.useState)(),x=Object(p.a)(w,2),O=x[0],v=x[1],S=Object(a.useState)(!1),k=Object(p.a)(S,2),C=k[0],I=k[1],P=Object(a.useState)(!1),F=Object(p.a)(P,2),M=F[0],_=F[1],D=Object(a.useState)(!1),N=Object(p.a)(D,2),L=N[0],A=N[1],E=Object(a.useRef)(!1);function B(){return(B=Object(o.a)(u.a.mark((function e(){var t,n,a,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.ethereum)){e.next=8;break}return window.web3=new d.a(t),e.next=5,t.request({method:"eth_requestAccounts"});case 5:console.log("new provider"),e.next=9;break;case 8:window.web3?(window.web3=new d.a(window.web3.currentProvider),console.log("currentProvider")):window.alert("non ethereum browser detected. You should consider to trying metamask");case 9:return n=new d.a(t),e.next=12,n.eth.getAccounts();case 12:a=e.sent,l(a[0]),window.ethereum.on("accountsChanged",Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.eth.getAccounts();case 2:a=e.sent,l(a[0]),console.log(a);case 5:case"end":return e.stop()}}),e)})))),console.log(c),s=Object.keys(y.b)[0],(i=y.b[s])?(v(new n.eth.Contract(y.a,y.b[s].address)),console.log("contract created")):window.alert("certification dapp not deployed in this network"),window.ethereum.on("chainChanged",(function(e){i===e?window.location.reload():window.alert("certification dapp not deployed in this network")})),r.current=!0;case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=Object(a.useCallback)((function(){function a(e,t){return r.apply(this,arguments)}function r(){return(r=Object(o.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.methods.createStudent(t,n).send({from:c}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e,t){return i.apply(this,arguments)}function i(){return(i=Object(o.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.methods.createSchool(t,n).send({from:c}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.methods.fetchCourse(c).call({from:c}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.methods.fetchCertificate(c).call({from:c}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("adress account",c),e.abrupt("return",O.methods.fetchStudent(c).call({from:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("adress account",c),e.abrupt("return",O.methods.fetchSchool(c).call({from:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return j.apply(this,arguments)}function j(){return(j=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("adress account",c),e.abrupt("return",O.methods.fetchCourse(c).call({from:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("adress account",c),e.abrupt("return",O.methods.fetchCertificate(c).call({from:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(o.a)(u.a.mark((function r(){var i,c,o,l;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,A(!0),"student"!==n.current){r.next=9;break}return r.next=5,a(e.current,t.current);case 5:return r.next=7,f();case 7:i=r.sent,console.log("fetchStudent",i);case 9:if("school"!==n.current){r.next=16;break}return r.next=12,s(e.current,t.current);case 12:return r.next=14,b();case 14:c=r.sent,console.log("fetchStudent",c);case 16:if("course"!==n.current){r.next=23;break}return r.next=19,p(e.current,t.current);case 19:return r.next=21,g();case 21:o=r.sent,console.log("fetchCourse",o);case 23:if("certificate"!==n.current){r.next=30;break}return r.next=26,d(e.current,t.current);case 26:return r.next=28,T();case 28:l=r.sent,console.log("fetchCertificate",l);case 30:A(!1),r.next=37;break;case 33:r.prev=33,r.t0=r.catch(0),console.error(r.t0),A(!1);case 37:case"end":return r.stop()}}),r,null,[[0,33]])})))).apply(this,arguments)}M&&(function(){return x.apply(this,arguments)}().catch((function(e){return console.error(e)})),_(!1))}),[M]);return Object(a.useEffect)((function(){r.current||function(){B.apply(this,arguments)}(),E&&R()})),Object(T.jsx)("div",{className:"App",children:Object(T.jsxs)(f.a,{fluid:"md",children:[Object(T.jsx)(m.a,{className:"justify-content-start",activeKey:"/home",children:Object(T.jsx)(m.a.Item,{children:Object(T.jsxs)(m.a.Link,{eventKey:"disabled",disabled:!0,children:["your address is : ",c]})})}),Object(T.jsxs)(b.a,{noValidate:!0,validated:M,onSubmit:function(a){a.preventDefault(),!1===a.currentTarget.checkValidity()&&a.stopPropagation(),_(!0),n.current=a.target.useCase.value,e.current=a.target.name.value,t.current=a.target.image.value},children:[Object(T.jsx)(h.a,{label:"what do you wana create?",children:Object(T.jsxs)(b.a.Select,{"aria-label":"Floating label select example",required:!0,id:"useCase",onChange:function(e){console.log(e.target.value),"course"===e.target.value||"certificate"===e.target.value?I(!0):I(!1)},children:[Object(T.jsx)("option",{children:"Open menu"}),Object(T.jsx)("option",{value:"student",children:"student"}),Object(T.jsx)("option",{value:"school",children:"school"}),Object(T.jsx)("option",{value:"course",children:"course"}),Object(T.jsx)("option",{value:"certificate",children:"certificate"})]})}),Object(T.jsx)("br",{}),Object(T.jsxs)(b.a.Group,{className:"mb-3",controlId:"name",children:[Object(T.jsx)(b.a.Label,{children:"name"}),Object(T.jsx)(b.a.Control,{type:"name",placeholder:"Enter name"}),C?Object(T.jsx)(b.a.Text,{style:{color:"red"},children:"note that you need to be a school to create a course or certificate"}):null]}),Object(T.jsxs)(b.a.Group,{className:"mb-3",controlId:"image",children:[Object(T.jsx)(b.a.Label,{children:"image"}),Object(T.jsx)(b.a.Control,{type:"name",placeholder:"Enter image"})]}),L?Object(T.jsxs)(g.a,{variant:"primary",disabled:!0,children:[Object(T.jsx)(j.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Loading..."]}):Object(T.jsx)(g.a,{variant:"primary",type:"submit",children:"Submit"})]})]})})}var x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,542)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))};i.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(w,{})}),document.getElementById("root")),x()},70:function(e){e.exports=JSON.parse('{"a":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"string","name":"_courseName","type":"string"}],"name":"certificateCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"courseCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":true,"internalType":"string","name":"name","type":"string"},{"indexed":true,"internalType":"string","name":"IPFShash","type":"string"}],"name":"schoolCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":true,"internalType":"string","name":"name","type":"string"},{"indexed":true,"internalType":"string","name":"IPFShash","type":"string"}],"name":"studentCreated","type":"event"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"certificateList","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"certificateStruct","outputs":[{"internalType":"uint256","name":"certificatePointer","type":"uint256"},{"internalType":"address","name":"studentID","type":"address"},{"internalType":"address","name":"schoolID","type":"address"},{"internalType":"bytes32","name":"courseID","type":"bytes32"},{"internalType":"string","name":"courseName","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"courseList","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"courseStruct","outputs":[{"internalType":"uint256","name":"coursePointer","type":"uint256"},{"internalType":"address","name":"studentID","type":"address"},{"internalType":"address","name":"schoolID","type":"address"},{"internalType":"string","name":"courseName","type":"string"},{"internalType":"string","name":"IPFShash","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"schoolList","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"schoolStruct","outputs":[{"internalType":"uint256","name":"certificatePointer","type":"uint256"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"IPFShash","type":"string"},{"internalType":"address","name":"schoolOwner","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"studentList","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"studentListtruct","outputs":[{"internalType":"uint256","name":"certificatePointer","type":"uint256"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"IPFShash","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_IPFShash","type":"string"}],"name":"createStudent","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_IPFShash","type":"string"}],"name":"createSchool","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_ID","type":"bytes32"},{"internalType":"address","name":"_student","type":"address"},{"internalType":"string","name":"_courseName","type":"string"},{"internalType":"string","name":"_IPFShash","type":"string"}],"name":"createCourse","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_ID","type":"bytes32"},{"internalType":"address","name":"_student","type":"address"},{"internalType":"string","name":"_courseName","type":"string"}],"name":"createCertificate","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_schoolAddress","type":"address"}],"name":"fetchSchool","outputs":[{"internalType":"uint256","name":"certificatePointer","type":"uint256"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"IPFShash","type":"string"},{"internalType":"address","name":"schoolOwner","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_studentAddress","type":"address"}],"name":"fetchStudent","outputs":[{"internalType":"uint256","name":"certificatePointer","type":"uint256"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"IPFShash","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_course","type":"bytes32"}],"name":"fetchCourse","outputs":[{"internalType":"uint256","name":"coursePointer","type":"uint256"},{"internalType":"address","name":"studentID","type":"address"},{"internalType":"address","name":"schoolID","type":"address"},{"internalType":"string","name":"courseName","type":"string"},{"internalType":"string","name":"IPFShash","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_certificate","type":"bytes32"}],"name":"fetchCertificate","outputs":[{"internalType":"uint256","name":"certificatePointer","type":"uint256"},{"internalType":"address","name":"studentID","type":"address"},{"internalType":"address","name":"schoolID","type":"address"},{"internalType":"bytes32","name":"courseID","type":"bytes32"},{"internalType":"string","name":"courseName","type":"string"}],"stateMutability":"view","type":"function"}],"b":{"3":{"events":{},"links":{},"address":"0x29eA45F918B72b2f36a56e6AcB8C603049E48FBA","transactionHash":"0xcb256623356c9b51398d7483470280a566d09edfa52f9ef26c2464cf14b9c8bf"},"5777":{"events":{},"links":{},"address":"0x3eCE170F525E70aB67E6957cDe0bCA4d7BDc1d34","transactionHash":"0x5ebc5f61bdbafbb865028f907ef68ed990fe0d59d84c8612fbaf8d10cff976e4"}}}')}},[[533,1,2]]]);
//# sourceMappingURL=main.d4041718.chunk.js.map